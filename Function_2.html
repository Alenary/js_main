<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
/* 3 - Функция sequence(start, step) при вызове возвращает функцию-генератор. Каждый вызов генератора возвращает
              новое число в числовой последовательности. start – стартовое число (по умолчанию 0). start – шаг приращения
              (по умолчанию 1). Пример работы:
              var generator = sequence(10, 3);</code>
                <code>alert(generator()); // 10
                <code>alert(generator()); // 13
                <code>alert(generator()); // 16 */

let i = 0;

function generator(start, step) {
    let end;
    i++;
    end = start + i*step;
    return end;
}

function sequence(start, step) {
alert(generator(start, step));
alert(generator(start, step));
return alert(generator(start, step));
}

sequence(10, 3);


/* 4 -  Декоратор функции получает на вход существующую функцию и возвращает новую функцию, изменяющую
              (дополняющую) поведение исходной.
              1) 
                  Создать декоратор для функции с одним параметром, дополняющий переданную функцию проверкой аргумента на
                  тип number.
              2)
                  Создать декоратор для функции с произвольным количеством параметров, дополняющий переданную функцию
                  проверкой всех аргумента на указанный тип. */

                  // Вариант 1

var wrapped = function fun_1(y) {
    return a = y + 1;
    }

function Decorator_1(func) {
    return function(y) { // замыкание
        let result = func(y);
        if (typeof result == 'number')
            return console.log('Аргумент функции - число');
            else return console.log('Аргумент функции - НЕ число');
    }
}

                    //Вариант 2

wrapped = Decorator_1(wrapped);
wrapped(5);

var wrapped_2 = function fun_2() {
    return 10;
    }

function Decorator_2(func_2) {
    return function() { // замыкание
        let result_2 = func_2.apply(this, arguments);
        for (i = 0; i < arguments.length; i++) {
        if (typeof arguments[i] == 'number')
            console.log('Аргумент ' + (i+1) + ' функции - число');
            else console.log('Аргумент ' + (i+1) + ' функции - НЕ число');
        }
    }
}

wrapped_2 = Decorator_2(wrapped_2);
wrapped_2(5,6,5, "лето");


/* 5 - Создайте функцию sum, которая будет возвращать сумму любого количества чисел. Вызываться функция должна вот
              так (обратите внимание на скобки):
              x = sum(2)(5)(10);
                alert(x); // выводит 17 */

function sum(a) {

let counterSum = a;
function funSum(b) {
  counterSum = counterSum + b;
  return funSum;
}

funSum[Symbol.toPrimitive] = function(hint) {
  return counterSum;
};

return funSum;
}

x = sum(2)(5)(10);
alert(x); // выводит 17

    </script>
</body>
</html>